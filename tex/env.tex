% tex/env.tex â€” Packages and environment configuration
%
% Package and environment choices are aligned with the gold-standard reference
% material under `tex/literature/` (e.g., TRM and trust-region analyses).

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern} % scalable Latin Modern fonts (avoids bitmap EC fonts)

% Typography and figures/tables (reference-style baseline)
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{multirow}

% Math and theorem tooling
\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}
\usepackage{thmtools}
\allowdisplaybreaks

% Algorithms
\usepackage{algorithm}
\usepackage{algorithmic}

% Colors and links/cross-references
\usepackage[dvipsnames]{xcolor}
\usepackage[hyperfootnotes=false]{hyperref}
\usepackage[capitalize,noabbrev]{cleveref}

% Page and bibliography
\usepackage[margin=1in]{geometry}
\usepackage{natbib}

% Lists and code listings
\usepackage{enumitem}
\usepackage{listings}

% Attempt to make hyperref and algorithm work together better (reference convention).
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% Development-only optional packages (guarded to avoid build failures).
\IfFileExists{todonotes.sty}{\usepackage[textsize=tiny]{todonotes}}{}
\IfFileExists{tcolorbox.sty}{\usepackage[most]{tcolorbox}}{}

%==============================================================================
% THEOREM ENVIRONMENTS (shared counter, grouped by style)
%------------------------------------------------------------------------------
% The structure matches the reference material conventions (e.g., TRM), and is
% intentionally kept in `env.tex` so all sections share the same definitions.
%==============================================================================
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{example}[theorem]{Example}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Listing style for Python code
\lstset{
  language=Python,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue},
  commentstyle=\color{gray},
  frame=single,
  breaklines=true,
  breakatwhitespace=true,
  xleftmargin=0pt,
  escapeinside={<@}{@>}
}
